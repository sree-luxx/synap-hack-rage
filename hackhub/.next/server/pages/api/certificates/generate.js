"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/certificates/generate";
exports.ids = ["pages/api/certificates/generate"];
exports.modules = {

/***/ "@next-auth/prisma-adapter":
/*!********************************************!*\
  !*** external "@next-auth/prisma-adapter" ***!
  \********************************************/
/***/ ((module) => {

module.exports = require("@next-auth/prisma-adapter");

/***/ }),

/***/ "@prisma/client":
/*!*********************************!*\
  !*** external "@prisma/client" ***!
  \*********************************/
/***/ ((module) => {

module.exports = require("@prisma/client");

/***/ }),

/***/ "bcryptjs":
/*!***************************!*\
  !*** external "bcryptjs" ***!
  \***************************/
/***/ ((module) => {

module.exports = require("bcryptjs");

/***/ }),

/***/ "jsonwebtoken":
/*!*******************************!*\
  !*** external "jsonwebtoken" ***!
  \*******************************/
/***/ ((module) => {

module.exports = require("jsonwebtoken");

/***/ }),

/***/ "mongoose":
/*!***************************!*\
  !*** external "mongoose" ***!
  \***************************/
/***/ ((module) => {

module.exports = require("mongoose");

/***/ }),

/***/ "next-auth":
/*!****************************!*\
  !*** external "next-auth" ***!
  \****************************/
/***/ ((module) => {

module.exports = require("next-auth");

/***/ }),

/***/ "next-auth/providers/credentials":
/*!**************************************************!*\
  !*** external "next-auth/providers/credentials" ***!
  \**************************************************/
/***/ ((module) => {

module.exports = require("next-auth/providers/credentials");

/***/ }),

/***/ "next-auth/providers/github":
/*!*********************************************!*\
  !*** external "next-auth/providers/github" ***!
  \*********************************************/
/***/ ((module) => {

module.exports = require("next-auth/providers/github");

/***/ }),

/***/ "next-auth/providers/google":
/*!*********************************************!*\
  !*** external "next-auth/providers/google" ***!
  \*********************************************/
/***/ ((module) => {

module.exports = require("next-auth/providers/google");

/***/ }),

/***/ "next/dist/compiled/next-server/pages-api.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/pages-api.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/pages-api.runtime.dev.js");

/***/ }),

/***/ "pdfkit":
/*!*************************!*\
  !*** external "pdfkit" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("pdfkit");

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("crypto");

/***/ }),

/***/ "@azure/storage-blob":
/*!**************************************!*\
  !*** external "@azure/storage-blob" ***!
  \**************************************/
/***/ ((module) => {

module.exports = import("@azure/storage-blob");;

/***/ }),

/***/ "(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fcertificates%2Fgenerate&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Ccertificates%5Cgenerate.ts&middlewareConfigBase64=e30%3D!":
/*!****************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fcertificates%2Fgenerate&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Ccertificates%5Cgenerate.ts&middlewareConfigBase64=e30%3D! ***!
  \****************************************************************************************************************************************************************************************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   routeModule: () => (/* binding */ routeModule)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/pages-api/module.compiled */ \"(api)/./node_modules/next/dist/server/future/route-modules/pages-api/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(api)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/build/templates/helpers */ \"(api)/./node_modules/next/dist/build/templates/helpers.js\");\n/* harmony import */ var _pages_api_certificates_generate_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./pages\\api\\certificates\\generate.ts */ \"(api)/./pages/api/certificates/generate.ts\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_pages_api_certificates_generate_ts__WEBPACK_IMPORTED_MODULE_3__]);\n_pages_api_certificates_generate_ts__WEBPACK_IMPORTED_MODULE_3__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n\n// Import the userland code.\n\n// Re-export the handler (should be the default export).\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_certificates_generate_ts__WEBPACK_IMPORTED_MODULE_3__, \"default\"));\n// Re-export config.\nconst config = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_certificates_generate_ts__WEBPACK_IMPORTED_MODULE_3__, \"config\");\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__.PagesAPIRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.PAGES_API,\n        page: \"/api/certificates/generate\",\n        pathname: \"/api/certificates/generate\",\n        // The following aren't used in production.\n        bundlePath: \"\",\n        filename: \"\"\n    },\n    userland: _pages_api_certificates_generate_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n\n//# sourceMappingURL=pages-api.js.map\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LXJvdXRlLWxvYWRlci9pbmRleC5qcz9raW5kPVBBR0VTX0FQSSZwYWdlPSUyRmFwaSUyRmNlcnRpZmljYXRlcyUyRmdlbmVyYXRlJnByZWZlcnJlZFJlZ2lvbj0mYWJzb2x1dGVQYWdlUGF0aD0uJTJGcGFnZXMlNUNhcGklNUNjZXJ0aWZpY2F0ZXMlNUNnZW5lcmF0ZS50cyZtaWRkbGV3YXJlQ29uZmlnQmFzZTY0PWUzMCUzRCEiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7QUFBc0c7QUFDdkM7QUFDTDtBQUMxRDtBQUNvRTtBQUNwRTtBQUNBLGlFQUFlLHdFQUFLLENBQUMsZ0VBQVEsWUFBWSxFQUFDO0FBQzFDO0FBQ08sZUFBZSx3RUFBSyxDQUFDLGdFQUFRO0FBQ3BDO0FBQ08sd0JBQXdCLGdIQUFtQjtBQUNsRDtBQUNBLGNBQWMseUVBQVM7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxZQUFZO0FBQ1osQ0FBQzs7QUFFRCxxQyIsInNvdXJjZXMiOlsid2VicGFjazovL2hhY2todWItYmFja2VuZC8/ODMzOCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBQYWdlc0FQSVJvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLW1vZHVsZXMvcGFnZXMtYXBpL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLWtpbmRcIjtcbmltcG9ydCB7IGhvaXN0IH0gZnJvbSBcIm5leHQvZGlzdC9idWlsZC90ZW1wbGF0ZXMvaGVscGVyc1wiO1xuLy8gSW1wb3J0IHRoZSB1c2VybGFuZCBjb2RlLlxuaW1wb3J0ICogYXMgdXNlcmxhbmQgZnJvbSBcIi4vcGFnZXNcXFxcYXBpXFxcXGNlcnRpZmljYXRlc1xcXFxnZW5lcmF0ZS50c1wiO1xuLy8gUmUtZXhwb3J0IHRoZSBoYW5kbGVyIChzaG91bGQgYmUgdGhlIGRlZmF1bHQgZXhwb3J0KS5cbmV4cG9ydCBkZWZhdWx0IGhvaXN0KHVzZXJsYW5kLCBcImRlZmF1bHRcIik7XG4vLyBSZS1leHBvcnQgY29uZmlnLlxuZXhwb3J0IGNvbnN0IGNvbmZpZyA9IGhvaXN0KHVzZXJsYW5kLCBcImNvbmZpZ1wiKTtcbi8vIENyZWF0ZSBhbmQgZXhwb3J0IHRoZSByb3V0ZSBtb2R1bGUgdGhhdCB3aWxsIGJlIGNvbnN1bWVkLlxuZXhwb3J0IGNvbnN0IHJvdXRlTW9kdWxlID0gbmV3IFBhZ2VzQVBJUm91dGVNb2R1bGUoe1xuICAgIGRlZmluaXRpb246IHtcbiAgICAgICAga2luZDogUm91dGVLaW5kLlBBR0VTX0FQSSxcbiAgICAgICAgcGFnZTogXCIvYXBpL2NlcnRpZmljYXRlcy9nZW5lcmF0ZVwiLFxuICAgICAgICBwYXRobmFtZTogXCIvYXBpL2NlcnRpZmljYXRlcy9nZW5lcmF0ZVwiLFxuICAgICAgICAvLyBUaGUgZm9sbG93aW5nIGFyZW4ndCB1c2VkIGluIHByb2R1Y3Rpb24uXG4gICAgICAgIGJ1bmRsZVBhdGg6IFwiXCIsXG4gICAgICAgIGZpbGVuYW1lOiBcIlwiXG4gICAgfSxcbiAgICB1c2VybGFuZFxufSk7XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXBhZ2VzLWFwaS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fcertificates%2Fgenerate&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Ccertificates%5Cgenerate.ts&middlewareConfigBase64=e30%3D!\n");

/***/ }),

/***/ "(api)/./lib/auth.ts":
/*!*********************!*\
  !*** ./lib/auth.ts ***!
  \*********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   authOptions: () => (/* binding */ authOptions),\n/* harmony export */   getApiUser: () => (/* binding */ getApiUser),\n/* harmony export */   requireRole: () => (/* binding */ requireRole),\n/* harmony export */   requireSession: () => (/* binding */ requireSession)\n/* harmony export */ });\n/* harmony import */ var next_auth__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next-auth */ \"next-auth\");\n/* harmony import */ var next_auth__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_auth__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_auth_providers_credentials__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next-auth/providers/credentials */ \"next-auth/providers/credentials\");\n/* harmony import */ var next_auth_providers_credentials__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(next_auth_providers_credentials__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var next_auth_providers_github__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next-auth/providers/github */ \"next-auth/providers/github\");\n/* harmony import */ var next_auth_providers_github__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_auth_providers_github__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var next_auth_providers_google__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! next-auth/providers/google */ \"next-auth/providers/google\");\n/* harmony import */ var next_auth_providers_google__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(next_auth_providers_google__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _next_auth_prisma_adapter__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @next-auth/prisma-adapter */ \"@next-auth/prisma-adapter\");\n/* harmony import */ var _next_auth_prisma_adapter__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_next_auth_prisma_adapter__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _prisma__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./prisma */ \"(api)/./lib/prisma.ts\");\n/* harmony import */ var bcryptjs__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! bcryptjs */ \"bcryptjs\");\n/* harmony import */ var bcryptjs__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(bcryptjs__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var _jwt__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./jwt */ \"(api)/./lib/jwt.ts\");\n\n\n\n\n\n\n\nconst authOptions = {\n    adapter: (0,_next_auth_prisma_adapter__WEBPACK_IMPORTED_MODULE_4__.PrismaAdapter)(_prisma__WEBPACK_IMPORTED_MODULE_5__.prisma),\n    providers: [\n        next_auth_providers_credentials__WEBPACK_IMPORTED_MODULE_1___default()({\n            name: \"Credentials\",\n            credentials: {\n                email: {\n                    label: \"Email\",\n                    type: \"text\"\n                },\n                password: {\n                    label: \"Password\",\n                    type: \"password\"\n                }\n            },\n            async authorize (credentials) {\n                if (!credentials?.email || !credentials.password) return null;\n                const user = await _prisma__WEBPACK_IMPORTED_MODULE_5__.prisma.user.findUnique({\n                    where: {\n                        email: credentials.email\n                    }\n                });\n                if (!user || !user.passwordHash) return null;\n                const valid = await bcryptjs__WEBPACK_IMPORTED_MODULE_6___default().compare(credentials.password, user.passwordHash);\n                if (!valid) return null;\n                return {\n                    id: user.id,\n                    email: user.email,\n                    name: user.name,\n                    image: user.image,\n                    role: user.role\n                };\n            }\n        }),\n        process.env.GITHUB_ID && process.env.GITHUB_SECRET ? next_auth_providers_github__WEBPACK_IMPORTED_MODULE_2___default()({\n            clientId: process.env.GITHUB_ID,\n            clientSecret: process.env.GITHUB_SECRET\n        }) : null,\n        process.env.GOOGLE_ID && process.env.GOOGLE_SECRET ? next_auth_providers_google__WEBPACK_IMPORTED_MODULE_3___default()({\n            clientId: process.env.GOOGLE_ID,\n            clientSecret: process.env.GOOGLE_SECRET\n        }) : null\n    ].filter(Boolean),\n    secret: process.env.NEXTAUTH_SECRET,\n    callbacks: {\n        async session ({ session, token, user }) {\n            if (session.user) {\n                session.user.id = user?.id ?? token?.sub;\n                session.user.role = user?.role;\n            }\n            return session;\n        }\n    }\n};\nasync function requireSession(req, res) {\n    const session = await (0,next_auth__WEBPACK_IMPORTED_MODULE_0__.getServerSession)(req, res, authOptions);\n    return session;\n}\nfunction requireRole(session, roles) {\n    const userRole = session?.user?.role;\n    return roles.includes(userRole);\n}\n\nasync function getApiUser(req, _res) {\n    const authHeader = req.headers[\"authorization\"] || req.headers[\"Authorization\"];\n    let bearer;\n    if (typeof authHeader === \"string\") bearer = authHeader;\n    if (Array.isArray(authHeader)) bearer = authHeader[0];\n    const token = bearer?.startsWith(\"Bearer \") ? bearer.slice(7) : undefined;\n    if (!token) return null;\n    return (0,_jwt__WEBPACK_IMPORTED_MODULE_7__.verifyUserToken)(token);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUNyRCxNQUFNWixRQUFRYyxRQUFRRyxXQUFXLGFBQWFILE9BQU9JLEtBQUssQ0FBQyxLQUFLQztJQUNoRSxJQUFJLENBQUNuQixPQUFPLE9BQU87SUFDbkIsT0FBT1MscURBQWVBLENBQUNUO0FBQ3pCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaGFja2h1Yi1iYWNrZW5kLy4vbGliL2F1dGgudHM/YmY3ZSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBOZXh0QXV0aE9wdGlvbnMsIGdldFNlcnZlclNlc3Npb24gfSBmcm9tIFwibmV4dC1hdXRoXCI7XG5pbXBvcnQgQ3JlZGVudGlhbHNQcm92aWRlciBmcm9tIFwibmV4dC1hdXRoL3Byb3ZpZGVycy9jcmVkZW50aWFsc1wiO1xuaW1wb3J0IEdpdEh1YlByb3ZpZGVyIGZyb20gXCJuZXh0LWF1dGgvcHJvdmlkZXJzL2dpdGh1YlwiO1xuaW1wb3J0IEdvb2dsZVByb3ZpZGVyIGZyb20gXCJuZXh0LWF1dGgvcHJvdmlkZXJzL2dvb2dsZVwiO1xuaW1wb3J0IHsgUHJpc21hQWRhcHRlciB9IGZyb20gXCJAbmV4dC1hdXRoL3ByaXNtYS1hZGFwdGVyXCI7XG5pbXBvcnQgeyBwcmlzbWEgfSBmcm9tIFwiLi9wcmlzbWFcIjtcbmltcG9ydCBiY3J5cHQgZnJvbSBcImJjcnlwdGpzXCI7XG5cbmV4cG9ydCBjb25zdCBhdXRoT3B0aW9uczogTmV4dEF1dGhPcHRpb25zID0ge1xuXHRhZGFwdGVyOiBQcmlzbWFBZGFwdGVyKHByaXNtYSksXG5cdHByb3ZpZGVyczogW1xuXHRcdENyZWRlbnRpYWxzUHJvdmlkZXIoe1xuXHRcdFx0bmFtZTogXCJDcmVkZW50aWFsc1wiLFxuXHRcdFx0Y3JlZGVudGlhbHM6IHtcblx0XHRcdFx0ZW1haWw6IHsgbGFiZWw6IFwiRW1haWxcIiwgdHlwZTogXCJ0ZXh0XCIgfSxcblx0XHRcdFx0cGFzc3dvcmQ6IHsgbGFiZWw6IFwiUGFzc3dvcmRcIiwgdHlwZTogXCJwYXNzd29yZFwiIH0sXG5cdFx0XHR9LFxuXHRcdFx0YXN5bmMgYXV0aG9yaXplKGNyZWRlbnRpYWxzKSB7XG5cdFx0XHRcdGlmICghY3JlZGVudGlhbHM/LmVtYWlsIHx8ICFjcmVkZW50aWFscy5wYXNzd29yZCkgcmV0dXJuIG51bGw7XG5cdFx0XHRcdGNvbnN0IHVzZXIgPSBhd2FpdCBwcmlzbWEudXNlci5maW5kVW5pcXVlKHsgd2hlcmU6IHsgZW1haWw6IGNyZWRlbnRpYWxzLmVtYWlsIH0gfSk7XG5cdFx0XHRcdGlmICghdXNlciB8fCAhdXNlci5wYXNzd29yZEhhc2gpIHJldHVybiBudWxsO1xuXHRcdFx0XHRjb25zdCB2YWxpZCA9IGF3YWl0IGJjcnlwdC5jb21wYXJlKGNyZWRlbnRpYWxzLnBhc3N3b3JkLCB1c2VyLnBhc3N3b3JkSGFzaCk7XG5cdFx0XHRcdGlmICghdmFsaWQpIHJldHVybiBudWxsO1xuXHRcdFx0XHRyZXR1cm4geyBpZDogdXNlci5pZCwgZW1haWw6IHVzZXIuZW1haWwsIG5hbWU6IHVzZXIubmFtZSwgaW1hZ2U6IHVzZXIuaW1hZ2UsIHJvbGU6ICh1c2VyIGFzIGFueSkucm9sZSB9IGFzIGFueTtcblx0XHRcdH0sXG5cdFx0fSksXG5cdFx0cHJvY2Vzcy5lbnYuR0lUSFVCX0lEICYmIHByb2Nlc3MuZW52LkdJVEhVQl9TRUNSRVRcblx0XHRcdD8gR2l0SHViUHJvdmlkZXIoeyBjbGllbnRJZDogcHJvY2Vzcy5lbnYuR0lUSFVCX0lELCBjbGllbnRTZWNyZXQ6IHByb2Nlc3MuZW52LkdJVEhVQl9TRUNSRVQgfSlcblx0XHRcdDogKG51bGwgYXMgYW55KSxcblx0XHRwcm9jZXNzLmVudi5HT09HTEVfSUQgJiYgcHJvY2Vzcy5lbnYuR09PR0xFX1NFQ1JFVFxuXHRcdFx0PyBHb29nbGVQcm92aWRlcih7IGNsaWVudElkOiBwcm9jZXNzLmVudi5HT09HTEVfSUQsIGNsaWVudFNlY3JldDogcHJvY2Vzcy5lbnYuR09PR0xFX1NFQ1JFVCB9KVxuXHRcdFx0OiAobnVsbCBhcyBhbnkpLFxuXHRdLmZpbHRlcihCb29sZWFuKSBhcyBhbnksXG5cdHNlY3JldDogcHJvY2Vzcy5lbnYuTkVYVEFVVEhfU0VDUkVULFxuXHRjYWxsYmFja3M6IHtcblx0XHRhc3luYyBzZXNzaW9uKHsgc2Vzc2lvbiwgdG9rZW4sIHVzZXIgfSkge1xuXHRcdFx0aWYgKHNlc3Npb24udXNlcikge1xuXHRcdFx0XHQoc2Vzc2lvbi51c2VyIGFzIGFueSkuaWQgPSB1c2VyPy5pZCA/PyB0b2tlbj8uc3ViO1xuXHRcdFx0XHQoc2Vzc2lvbi51c2VyIGFzIGFueSkucm9sZSA9ICh1c2VyIGFzIGFueSk/LnJvbGU7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gc2Vzc2lvbjtcblx0XHR9LFxuXHR9LFxufTtcblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHJlcXVpcmVTZXNzaW9uKHJlcTogYW55LCByZXM6IGFueSkge1xuXHRjb25zdCBzZXNzaW9uID0gYXdhaXQgZ2V0U2VydmVyU2Vzc2lvbihyZXEsIHJlcywgYXV0aE9wdGlvbnMpO1xuXHRyZXR1cm4gc2Vzc2lvbjtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJlcXVpcmVSb2xlKHNlc3Npb246IGFueSwgcm9sZXM6IEFycmF5PFwiUEFSVElDSVBBTlRcIiB8IFwiT1JHQU5JWkVSXCIgfCBcIkpVREdFXCI+KTogYm9vbGVhbiB7XG5cdGNvbnN0IHVzZXJSb2xlID0gKHNlc3Npb24/LnVzZXIgYXMgYW55KT8ucm9sZTtcblx0cmV0dXJuIHJvbGVzLmluY2x1ZGVzKHVzZXJSb2xlKTtcbn1cblxuLy8gSGVscGVyIHRvIHJlYWQgdXNlciBmcm9tIEF1dGhvcml6YXRpb246IEJlYXJlciA8dG9rZW4+IGZvciBub24tTmV4dEF1dGggY2xpZW50c1xuaW1wb3J0IHR5cGUgeyBOZXh0QXBpUmVxdWVzdCB9IGZyb20gXCJuZXh0XCI7XG5pbXBvcnQgeyB2ZXJpZnlVc2VyVG9rZW4gfSBmcm9tIFwiLi9qd3RcIjtcblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldEFwaVVzZXIocmVxOiBOZXh0QXBpUmVxdWVzdCwgX3Jlcz86IGFueSkge1xuICBjb25zdCBhdXRoSGVhZGVyID0gcmVxLmhlYWRlcnNbXCJhdXRob3JpemF0aW9uXCJdIHx8IChyZXEuaGVhZGVycyBhcyBhbnkpW1wiQXV0aG9yaXphdGlvblwiXTtcbiAgbGV0IGJlYXJlcjogc3RyaW5nIHwgdW5kZWZpbmVkO1xuICBpZiAodHlwZW9mIGF1dGhIZWFkZXIgPT09IFwic3RyaW5nXCIpIGJlYXJlciA9IGF1dGhIZWFkZXI7XG4gIGlmIChBcnJheS5pc0FycmF5KGF1dGhIZWFkZXIpKSBiZWFyZXIgPSBhdXRoSGVhZGVyWzBdO1xuICBjb25zdCB0b2tlbiA9IGJlYXJlcj8uc3RhcnRzV2l0aChcIkJlYXJlciBcIikgPyBiZWFyZXIuc2xpY2UoNykgOiB1bmRlZmluZWQ7XG4gIGlmICghdG9rZW4pIHJldHVybiBudWxsO1xuICByZXR1cm4gdmVyaWZ5VXNlclRva2VuKHRva2VuKTtcbn1cblxuIl0sIm5hbWVzIjpbImdldFNlcnZlclNlc3Npb24iLCJDcmVkZW50aWFsc1Byb3ZpZGVyIiwiR2l0SHViUHJvdmlkZXIiLCJHb29nbGVQcm92aWRlciIsIlByaXNtYUFkYXB0ZXIiLCJwcmlzbWEiLCJiY3J5cHQiLCJhdXRoT3B0aW9ucyIsImFkYXB0ZXIiLCJwcm92aWRlcnMiLCJuYW1lIiwiY3JlZGVudGlhbHMiLCJlbWFpbCIsImxhYmVsIiwidHlwZSIsInBhc3N3b3JkIiwiYXV0aG9yaXplIiwidXNlciIsImZpbmRVbmlxdWUiLCJ3aGVyZSIsInBhc3N3b3JkSGFzaCIsInZhbGlkIiwiY29tcGFyZSIsImlkIiwiaW1hZ2UiLCJyb2xlIiwicHJvY2VzcyIsImVudiIsIkdJVEhVQl9JRCIsIkdJVEhVQl9TRUNSRVQiLCJjbGllbnRJZCIsImNsaWVudFNlY3JldCIsIkdPT0dMRV9JRCIsIkdPT0dMRV9TRUNSRVQiLCJmaWx0ZXIiLCJCb29sZWFuIiwic2VjcmV0IiwiTkVYVEFVVEhfU0VDUkVUIiwiY2FsbGJhY2tzIiwic2Vzc2lvbiIsInRva2VuIiwic3ViIiwicmVxdWlyZVNlc3Npb24iLCJyZXEiLCJyZXMiLCJyZXF1aXJlUm9sZSIsInJvbGVzIiwidXNlclJvbGUiLCJpbmNsdWRlcyIsInZlcmlmeVVzZXJUb2tlbiIsImdldEFwaVVzZXIiLCJfcmVzIiwiYXV0aEhlYWRlciIsImhlYWRlcnMiLCJiZWFyZXIiLCJBcnJheSIsImlzQXJyYXkiLCJzdGFydHNXaXRoIiwic2xpY2UiLCJ1bmRlZmluZWQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./lib/auth.ts\n");

/***/ }),

/***/ "(api)/./lib/blob.ts":
/*!*********************!*\
  !*** ./lib/blob.ts ***!
  \*********************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   uploadBufferToBlob: () => (/* binding */ uploadBufferToBlob)\n/* harmony export */ });\n/* harmony import */ var _azure_storage_blob__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @azure/storage-blob */ \"@azure/storage-blob\");\n/* harmony import */ var crypto__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! crypto */ \"crypto\");\n/* harmony import */ var crypto__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(crypto__WEBPACK_IMPORTED_MODULE_1__);\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_azure_storage_blob__WEBPACK_IMPORTED_MODULE_0__]);\n_azure_storage_blob__WEBPACK_IMPORTED_MODULE_0__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\nconst { AZURE_BLOB_CONNECTION_STRING = \"\", AZURE_BLOB_CONTAINER = \"hackhub\" } = process.env;\nasync function uploadBufferToBlob(buffer, opts) {\n    const blobServiceClient = _azure_storage_blob__WEBPACK_IMPORTED_MODULE_0__.BlobServiceClient.fromConnectionString(AZURE_BLOB_CONNECTION_STRING);\n    const containerClient = blobServiceClient.getContainerClient(AZURE_BLOB_CONTAINER);\n    await containerClient.createIfNotExists();\n    const blobName = `${opts?.prefix ?? \"uploads\"}/${(0,crypto__WEBPACK_IMPORTED_MODULE_1__.randomUUID)()}`;\n    const blockBlobClient = containerClient.getBlockBlobClient(blobName);\n    await blockBlobClient.uploadData(buffer, {\n        blobHTTPHeaders: {\n            blobContentType: opts?.contentType ?? \"application/octet-stream\"\n        }\n    });\n    // Try to generate a time-limited SAS URL for private containers\n    let signedUrl = blockBlobClient.url;\n    try {\n        const parts = Object.fromEntries(AZURE_BLOB_CONNECTION_STRING.split(\";\").map((kv)=>kv.split(\"=\")).filter((a)=>a[0] && a[1]));\n        const accountName = parts[\"AccountName\"];\n        const accountKey = parts[\"AccountKey\"];\n        if (accountName && accountKey) {\n            const credential = new _azure_storage_blob__WEBPACK_IMPORTED_MODULE_0__.StorageSharedKeyCredential(accountName, accountKey);\n            const ttlHours = Number(process.env.AZURE_BLOB_SAS_TTL_HOURS || 24);\n            const startsOn = new Date(Date.now() - 5 * 60 * 1000);\n            const expiresOn = new Date(Date.now() + ttlHours * 60 * 60 * 1000);\n            const sas = (0,_azure_storage_blob__WEBPACK_IMPORTED_MODULE_0__.generateBlobSASQueryParameters)({\n                containerName: AZURE_BLOB_CONTAINER,\n                blobName,\n                permissions: _azure_storage_blob__WEBPACK_IMPORTED_MODULE_0__.BlobSASPermissions.parse(\"r\"),\n                startsOn,\n                expiresOn,\n                protocol: _azure_storage_blob__WEBPACK_IMPORTED_MODULE_0__.SASProtocol.Https\n            }, credential).toString();\n            signedUrl = `${blockBlobClient.url}?${sas}`;\n        }\n    } catch  {\n    // ignore; fallback to unsigned URL\n    }\n    return {\n        blobName,\n        url: signedUrl\n    };\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9saWIvYmxvYi50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQXFKO0FBQ2pIO0FBRXBDLE1BQU0sRUFBRU0sK0JBQStCLEVBQUUsRUFBRUMsdUJBQXVCLFNBQVMsRUFBRSxHQUFHQyxRQUFRQyxHQUFHO0FBRXBGLGVBQWVDLG1CQUFtQkMsTUFBYyxFQUFFQyxJQUFnRDtJQUN4RyxNQUFNQyxvQkFBb0JiLGtFQUFpQkEsQ0FBQ2Msb0JBQW9CLENBQUNSO0lBQ2pFLE1BQU1TLGtCQUFrQkYsa0JBQWtCRyxrQkFBa0IsQ0FBQ1Q7SUFDN0QsTUFBTVEsZ0JBQWdCRSxpQkFBaUI7SUFDdkMsTUFBTUMsV0FBVyxDQUFDLEVBQUVOLE1BQU1PLFVBQVUsVUFBVSxDQUFDLEVBQUVkLGtEQUFVQSxHQUFHLENBQUM7SUFDL0QsTUFBTWUsa0JBQWtCTCxnQkFBZ0JNLGtCQUFrQixDQUFDSDtJQUMzRCxNQUFNRSxnQkFBZ0JFLFVBQVUsQ0FBQ1gsUUFBUTtRQUFFWSxpQkFBaUI7WUFBRUMsaUJBQWlCWixNQUFNYSxlQUFlO1FBQTJCO0lBQUU7SUFFakksZ0VBQWdFO0lBQ2hFLElBQUlDLFlBQVlOLGdCQUFnQk8sR0FBRztJQUNuQyxJQUFJO1FBQ0gsTUFBTUMsUUFBUUMsT0FBT0MsV0FBVyxDQUMvQnhCLDZCQUE2QnlCLEtBQUssQ0FBQyxLQUNqQ0MsR0FBRyxDQUFDLENBQUNDLEtBQU9BLEdBQUdGLEtBQUssQ0FBQyxNQUNyQkcsTUFBTSxDQUFDLENBQUNDLElBQU1BLENBQUMsQ0FBQyxFQUFFLElBQUlBLENBQUMsQ0FBQyxFQUFFO1FBRTdCLE1BQU1DLGNBQWNSLEtBQUssQ0FBQyxjQUFjO1FBQ3hDLE1BQU1TLGFBQWFULEtBQUssQ0FBQyxhQUFhO1FBQ3RDLElBQUlRLGVBQWVDLFlBQVk7WUFDOUIsTUFBTUMsYUFBYSxJQUFJckMsMkVBQTBCQSxDQUFDbUMsYUFBYUM7WUFDL0QsTUFBTUUsV0FBV0MsT0FBT2hDLFFBQVFDLEdBQUcsQ0FBQ2dDLHdCQUF3QixJQUFJO1lBQ2hFLE1BQU1DLFdBQVcsSUFBSUMsS0FBS0EsS0FBS0MsR0FBRyxLQUFLLElBQUksS0FBSztZQUNoRCxNQUFNQyxZQUFZLElBQUlGLEtBQUtBLEtBQUtDLEdBQUcsS0FBS0wsV0FBVyxLQUFLLEtBQUs7WUFDN0QsTUFBTU8sTUFBTTFDLG1GQUE4QkEsQ0FDekM7Z0JBQ0MyQyxlQUFleEM7Z0JBQ2ZXO2dCQUNBOEIsYUFBYTlDLG1FQUFrQkEsQ0FBQytDLEtBQUssQ0FBQztnQkFDdENQO2dCQUNBRztnQkFDQUssVUFBVS9DLDREQUFXQSxDQUFDZ0QsS0FBSztZQUM1QixHQUNBYixZQUNDYyxRQUFRO1lBQ1YxQixZQUFZLENBQUMsRUFBRU4sZ0JBQWdCTyxHQUFHLENBQUMsQ0FBQyxFQUFFbUIsSUFBSSxDQUFDO1FBQzVDO0lBQ0QsRUFBRSxPQUFNO0lBQ1AsbUNBQW1DO0lBQ3BDO0lBRUEsT0FBTztRQUFFNUI7UUFBVVMsS0FBS0Q7SUFBVTtBQUNuQyIsInNvdXJjZXMiOlsid2VicGFjazovL2hhY2todWItYmFja2VuZC8uL2xpYi9ibG9iLnRzP2E5NmUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQmxvYlNlcnZpY2VDbGllbnQsIFN0b3JhZ2VTaGFyZWRLZXlDcmVkZW50aWFsLCBCbG9iU0FTUGVybWlzc2lvbnMsIFNBU1Byb3RvY29sLCBnZW5lcmF0ZUJsb2JTQVNRdWVyeVBhcmFtZXRlcnMgfSBmcm9tIFwiQGF6dXJlL3N0b3JhZ2UtYmxvYlwiO1xyXG5pbXBvcnQgeyByYW5kb21VVUlEIH0gZnJvbSBcImNyeXB0b1wiO1xyXG5cclxuY29uc3QgeyBBWlVSRV9CTE9CX0NPTk5FQ1RJT05fU1RSSU5HID0gXCJcIiwgQVpVUkVfQkxPQl9DT05UQUlORVIgPSBcImhhY2todWJcIiB9ID0gcHJvY2Vzcy5lbnY7XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gdXBsb2FkQnVmZmVyVG9CbG9iKGJ1ZmZlcjogQnVmZmVyLCBvcHRzPzogeyBjb250ZW50VHlwZT86IHN0cmluZzsgcHJlZml4Pzogc3RyaW5nIH0pIHtcclxuXHRjb25zdCBibG9iU2VydmljZUNsaWVudCA9IEJsb2JTZXJ2aWNlQ2xpZW50LmZyb21Db25uZWN0aW9uU3RyaW5nKEFaVVJFX0JMT0JfQ09OTkVDVElPTl9TVFJJTkcpO1xyXG5cdGNvbnN0IGNvbnRhaW5lckNsaWVudCA9IGJsb2JTZXJ2aWNlQ2xpZW50LmdldENvbnRhaW5lckNsaWVudChBWlVSRV9CTE9CX0NPTlRBSU5FUik7XHJcblx0YXdhaXQgY29udGFpbmVyQ2xpZW50LmNyZWF0ZUlmTm90RXhpc3RzKCk7XHJcblx0Y29uc3QgYmxvYk5hbWUgPSBgJHtvcHRzPy5wcmVmaXggPz8gXCJ1cGxvYWRzXCJ9LyR7cmFuZG9tVVVJRCgpfWA7XHJcblx0Y29uc3QgYmxvY2tCbG9iQ2xpZW50ID0gY29udGFpbmVyQ2xpZW50LmdldEJsb2NrQmxvYkNsaWVudChibG9iTmFtZSk7XHJcblx0YXdhaXQgYmxvY2tCbG9iQ2xpZW50LnVwbG9hZERhdGEoYnVmZmVyLCB7IGJsb2JIVFRQSGVhZGVyczogeyBibG9iQ29udGVudFR5cGU6IG9wdHM/LmNvbnRlbnRUeXBlID8/IFwiYXBwbGljYXRpb24vb2N0ZXQtc3RyZWFtXCIgfSB9KTtcclxuXHJcblx0Ly8gVHJ5IHRvIGdlbmVyYXRlIGEgdGltZS1saW1pdGVkIFNBUyBVUkwgZm9yIHByaXZhdGUgY29udGFpbmVyc1xyXG5cdGxldCBzaWduZWRVcmwgPSBibG9ja0Jsb2JDbGllbnQudXJsO1xyXG5cdHRyeSB7XHJcblx0XHRjb25zdCBwYXJ0cyA9IE9iamVjdC5mcm9tRW50cmllcyhcclxuXHRcdFx0QVpVUkVfQkxPQl9DT05ORUNUSU9OX1NUUklORy5zcGxpdChcIjtcIilcclxuXHRcdFx0XHQubWFwKChrdikgPT4ga3Yuc3BsaXQoXCI9XCIpIGFzIFtzdHJpbmcsIHN0cmluZ10pXHJcblx0XHRcdFx0LmZpbHRlcigoYSkgPT4gYVswXSAmJiBhWzFdKVxyXG5cdFx0KTtcclxuXHRcdGNvbnN0IGFjY291bnROYW1lID0gcGFydHNbXCJBY2NvdW50TmFtZVwiXTtcclxuXHRcdGNvbnN0IGFjY291bnRLZXkgPSBwYXJ0c1tcIkFjY291bnRLZXlcIl07XHJcblx0XHRpZiAoYWNjb3VudE5hbWUgJiYgYWNjb3VudEtleSkge1xyXG5cdFx0XHRjb25zdCBjcmVkZW50aWFsID0gbmV3IFN0b3JhZ2VTaGFyZWRLZXlDcmVkZW50aWFsKGFjY291bnROYW1lLCBhY2NvdW50S2V5KTtcclxuXHRcdFx0Y29uc3QgdHRsSG91cnMgPSBOdW1iZXIocHJvY2Vzcy5lbnYuQVpVUkVfQkxPQl9TQVNfVFRMX0hPVVJTIHx8IDI0KTtcclxuXHRcdFx0Y29uc3Qgc3RhcnRzT24gPSBuZXcgRGF0ZShEYXRlLm5vdygpIC0gNSAqIDYwICogMTAwMCk7XHJcblx0XHRcdGNvbnN0IGV4cGlyZXNPbiA9IG5ldyBEYXRlKERhdGUubm93KCkgKyB0dGxIb3VycyAqIDYwICogNjAgKiAxMDAwKTtcclxuXHRcdFx0Y29uc3Qgc2FzID0gZ2VuZXJhdGVCbG9iU0FTUXVlcnlQYXJhbWV0ZXJzKFxyXG5cdFx0XHRcdHtcclxuXHRcdFx0XHRcdGNvbnRhaW5lck5hbWU6IEFaVVJFX0JMT0JfQ09OVEFJTkVSLFxyXG5cdFx0XHRcdFx0YmxvYk5hbWUsXHJcblx0XHRcdFx0XHRwZXJtaXNzaW9uczogQmxvYlNBU1Blcm1pc3Npb25zLnBhcnNlKFwiclwiKSxcclxuXHRcdFx0XHRcdHN0YXJ0c09uLFxyXG5cdFx0XHRcdFx0ZXhwaXJlc09uLFxyXG5cdFx0XHRcdFx0cHJvdG9jb2w6IFNBU1Byb3RvY29sLkh0dHBzLFxyXG5cdFx0XHRcdH0sXHJcblx0XHRcdFx0Y3JlZGVudGlhbFxyXG5cdFx0XHQpLnRvU3RyaW5nKCk7XHJcblx0XHRcdHNpZ25lZFVybCA9IGAke2Jsb2NrQmxvYkNsaWVudC51cmx9PyR7c2FzfWA7XHJcblx0XHR9XHJcblx0fSBjYXRjaCB7XHJcblx0XHQvLyBpZ25vcmU7IGZhbGxiYWNrIHRvIHVuc2lnbmVkIFVSTFxyXG5cdH1cclxuXHJcblx0cmV0dXJuIHsgYmxvYk5hbWUsIHVybDogc2lnbmVkVXJsIH07XHJcbn1cclxuXHJcblxyXG5cclxuIl0sIm5hbWVzIjpbIkJsb2JTZXJ2aWNlQ2xpZW50IiwiU3RvcmFnZVNoYXJlZEtleUNyZWRlbnRpYWwiLCJCbG9iU0FTUGVybWlzc2lvbnMiLCJTQVNQcm90b2NvbCIsImdlbmVyYXRlQmxvYlNBU1F1ZXJ5UGFyYW1ldGVycyIsInJhbmRvbVVVSUQiLCJBWlVSRV9CTE9CX0NPTk5FQ1RJT05fU1RSSU5HIiwiQVpVUkVfQkxPQl9DT05UQUlORVIiLCJwcm9jZXNzIiwiZW52IiwidXBsb2FkQnVmZmVyVG9CbG9iIiwiYnVmZmVyIiwib3B0cyIsImJsb2JTZXJ2aWNlQ2xpZW50IiwiZnJvbUNvbm5lY3Rpb25TdHJpbmciLCJjb250YWluZXJDbGllbnQiLCJnZXRDb250YWluZXJDbGllbnQiLCJjcmVhdGVJZk5vdEV4aXN0cyIsImJsb2JOYW1lIiwicHJlZml4IiwiYmxvY2tCbG9iQ2xpZW50IiwiZ2V0QmxvY2tCbG9iQ2xpZW50IiwidXBsb2FkRGF0YSIsImJsb2JIVFRQSGVhZGVycyIsImJsb2JDb250ZW50VHlwZSIsImNvbnRlbnRUeXBlIiwic2lnbmVkVXJsIiwidXJsIiwicGFydHMiLCJPYmplY3QiLCJmcm9tRW50cmllcyIsInNwbGl0IiwibWFwIiwia3YiLCJmaWx0ZXIiLCJhIiwiYWNjb3VudE5hbWUiLCJhY2NvdW50S2V5IiwiY3JlZGVudGlhbCIsInR0bEhvdXJzIiwiTnVtYmVyIiwiQVpVUkVfQkxPQl9TQVNfVFRMX0hPVVJTIiwic3RhcnRzT24iLCJEYXRlIiwibm93IiwiZXhwaXJlc09uIiwic2FzIiwiY29udGFpbmVyTmFtZSIsInBlcm1pc3Npb25zIiwicGFyc2UiLCJwcm90b2NvbCIsIkh0dHBzIiwidG9TdHJpbmciXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./lib/blob.ts\n");

/***/ }),

/***/ "(api)/./lib/jwt.ts":
/*!********************!*\
  !*** ./lib/jwt.ts ***!
  \********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   signUserToken: () => (/* binding */ signUserToken),\n/* harmony export */   verifyUserToken: () => (/* binding */ verifyUserToken)\n/* harmony export */ });\n/* harmony import */ var jsonwebtoken__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jsonwebtoken */ \"jsonwebtoken\");\n/* harmony import */ var jsonwebtoken__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jsonwebtoken__WEBPACK_IMPORTED_MODULE_0__);\n\nconst { NEXTAUTH_SECRET = \"dev-secret\" } = process.env;\nfunction signUserToken(user) {\n    return jsonwebtoken__WEBPACK_IMPORTED_MODULE_0___default().sign({\n        sub: user.id,\n        email: user.email,\n        name: user.name,\n        role: user.role\n    }, NEXTAUTH_SECRET, {\n        expiresIn: \"7d\"\n    });\n}\nfunction verifyUserToken(token) {\n    try {\n        const decoded = jsonwebtoken__WEBPACK_IMPORTED_MODULE_0___default().verify(token, NEXTAUTH_SECRET);\n        return {\n            id: decoded.sub,\n            email: decoded.email,\n            name: decoded.name,\n            role: decoded.role\n        };\n    } catch  {\n        return null;\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9saWIvand0LnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBK0I7QUFFL0IsTUFBTSxFQUFFQyxrQkFBa0IsWUFBWSxFQUFFLEdBQUdDLFFBQVFDLEdBQUc7QUFJL0MsU0FBU0MsY0FBY0MsSUFBYTtJQUN6QyxPQUFPTCx3REFBUSxDQUFDO1FBQUVPLEtBQUtGLEtBQUtHLEVBQUU7UUFBRUMsT0FBT0osS0FBS0ksS0FBSztRQUFFQyxNQUFNTCxLQUFLSyxJQUFJO1FBQUVDLE1BQU1OLEtBQUtNLElBQUk7SUFBQyxHQUFHVixpQkFBaUI7UUFDdEdXLFdBQVc7SUFDYjtBQUNGO0FBRU8sU0FBU0MsZ0JBQWdCQyxLQUFhO0lBQzNDLElBQUk7UUFDRixNQUFNQyxVQUFVZiwwREFBVSxDQUFDYyxPQUFPYjtRQUNsQyxPQUFPO1lBQUVPLElBQUlPLFFBQVFSLEdBQUc7WUFBRUUsT0FBT00sUUFBUU4sS0FBSztZQUFFQyxNQUFNSyxRQUFRTCxJQUFJO1lBQUVDLE1BQU1JLFFBQVFKLElBQUk7UUFBQztJQUN6RixFQUFFLE9BQU07UUFDTixPQUFPO0lBQ1Q7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL2hhY2todWItYmFja2VuZC8uL2xpYi9qd3QudHM/ZWEyMyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgand0IGZyb20gXCJqc29ud2VidG9rZW5cIjtcclxuXHJcbmNvbnN0IHsgTkVYVEFVVEhfU0VDUkVUID0gXCJkZXYtc2VjcmV0XCIgfSA9IHByb2Nlc3MuZW52O1xyXG5cclxuZXhwb3J0IHR5cGUgSnd0VXNlciA9IHsgaWQ6IHN0cmluZzsgZW1haWw6IHN0cmluZzsgbmFtZT86IHN0cmluZyB8IG51bGw7IHJvbGU/OiBzdHJpbmcgfCBudWxsIH07XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gc2lnblVzZXJUb2tlbih1c2VyOiBKd3RVc2VyKTogc3RyaW5nIHtcclxuICByZXR1cm4gand0LnNpZ24oeyBzdWI6IHVzZXIuaWQsIGVtYWlsOiB1c2VyLmVtYWlsLCBuYW1lOiB1c2VyLm5hbWUsIHJvbGU6IHVzZXIucm9sZSB9LCBORVhUQVVUSF9TRUNSRVQsIHtcclxuICAgIGV4cGlyZXNJbjogXCI3ZFwiLFxyXG4gIH0pO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gdmVyaWZ5VXNlclRva2VuKHRva2VuOiBzdHJpbmcpOiBKd3RVc2VyIHwgbnVsbCB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IGRlY29kZWQgPSBqd3QudmVyaWZ5KHRva2VuLCBORVhUQVVUSF9TRUNSRVQpIGFzIGFueTtcclxuICAgIHJldHVybiB7IGlkOiBkZWNvZGVkLnN1YiwgZW1haWw6IGRlY29kZWQuZW1haWwsIG5hbWU6IGRlY29kZWQubmFtZSwgcm9sZTogZGVjb2RlZC5yb2xlIH07XHJcbiAgfSBjYXRjaCB7XHJcbiAgICByZXR1cm4gbnVsbDtcclxuICB9XHJcbn1cclxuXHJcblxyXG4iXSwibmFtZXMiOlsiand0IiwiTkVYVEFVVEhfU0VDUkVUIiwicHJvY2VzcyIsImVudiIsInNpZ25Vc2VyVG9rZW4iLCJ1c2VyIiwic2lnbiIsInN1YiIsImlkIiwiZW1haWwiLCJuYW1lIiwicm9sZSIsImV4cGlyZXNJbiIsInZlcmlmeVVzZXJUb2tlbiIsInRva2VuIiwiZGVjb2RlZCIsInZlcmlmeSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./lib/jwt.ts\n");

/***/ }),

/***/ "(api)/./lib/mongoose.ts":
/*!*************************!*\
  !*** ./lib/mongoose.ts ***!
  \*************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   connectMongo: () => (/* binding */ connectMongo)\n/* harmony export */ });\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongoose */ \"mongoose\");\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mongoose__WEBPACK_IMPORTED_MODULE_0__);\n\nconst { MONGODB_URI = \"\" } = process.env;\nif (!MONGODB_URI) {\n// Allow app to start; models will throw on first use if missing\n}\nlet cachedConnection = null;\nasync function connectMongo() {\n    if (cachedConnection && (mongoose__WEBPACK_IMPORTED_MODULE_0___default().connection).readyState === 1) {\n        return cachedConnection;\n    }\n    await mongoose__WEBPACK_IMPORTED_MODULE_0___default().connect(MONGODB_URI);\n    cachedConnection = (mongoose__WEBPACK_IMPORTED_MODULE_0___default());\n    return (mongoose__WEBPACK_IMPORTED_MODULE_0___default());\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9saWIvbW9uZ29vc2UudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQWdDO0FBRWhDLE1BQU0sRUFBRUMsY0FBYyxFQUFFLEVBQUUsR0FBR0MsUUFBUUMsR0FBRztBQUV4QyxJQUFJLENBQUNGLGFBQWE7QUFDakIsZ0VBQWdFO0FBQ2pFO0FBRUEsSUFBSUcsbUJBQTJDO0FBRXhDLGVBQWVDO0lBQ3JCLElBQUlELG9CQUFvQkosNERBQW1CLENBQUNPLFVBQVUsS0FBSyxHQUFHO1FBQzdELE9BQU9IO0lBQ1I7SUFDQSxNQUFNSix1REFBZ0IsQ0FBQ0M7SUFDdkJHLG1CQUFtQkosaURBQVFBO0lBQzNCLE9BQU9BLGlEQUFRQTtBQUNoQiIsInNvdXJjZXMiOlsid2VicGFjazovL2hhY2todWItYmFja2VuZC8uL2xpYi9tb25nb29zZS50cz8wYWRkIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtb25nb29zZSBmcm9tIFwibW9uZ29vc2VcIjtcclxuXHJcbmNvbnN0IHsgTU9OR09EQl9VUkkgPSBcIlwiIH0gPSBwcm9jZXNzLmVudjtcclxuXHJcbmlmICghTU9OR09EQl9VUkkpIHtcclxuXHQvLyBBbGxvdyBhcHAgdG8gc3RhcnQ7IG1vZGVscyB3aWxsIHRocm93IG9uIGZpcnN0IHVzZSBpZiBtaXNzaW5nXHJcbn1cclxuXHJcbmxldCBjYWNoZWRDb25uZWN0aW9uOiB0eXBlb2YgbW9uZ29vc2UgfCBudWxsID0gbnVsbDtcclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjb25uZWN0TW9uZ28oKTogUHJvbWlzZTx0eXBlb2YgbW9uZ29vc2U+IHtcclxuXHRpZiAoY2FjaGVkQ29ubmVjdGlvbiAmJiBtb25nb29zZS5jb25uZWN0aW9uLnJlYWR5U3RhdGUgPT09IDEpIHtcclxuXHRcdHJldHVybiBjYWNoZWRDb25uZWN0aW9uO1xyXG5cdH1cclxuXHRhd2FpdCBtb25nb29zZS5jb25uZWN0KE1PTkdPREJfVVJJKTtcclxuXHRjYWNoZWRDb25uZWN0aW9uID0gbW9uZ29vc2U7XHJcblx0cmV0dXJuIG1vbmdvb3NlO1xyXG59XHJcblxyXG5cclxuXHJcbiJdLCJuYW1lcyI6WyJtb25nb29zZSIsIk1PTkdPREJfVVJJIiwicHJvY2VzcyIsImVudiIsImNhY2hlZENvbm5lY3Rpb24iLCJjb25uZWN0TW9uZ28iLCJjb25uZWN0aW9uIiwicmVhZHlTdGF0ZSIsImNvbm5lY3QiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./lib/mongoose.ts\n");

/***/ }),

/***/ "(api)/./lib/pdf.ts":
/*!********************!*\
  !*** ./lib/pdf.ts ***!
  \********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   generateCertificatePdfBuffer: () => (/* binding */ generateCertificatePdfBuffer)\n/* harmony export */ });\n/* harmony import */ var pdfkit__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! pdfkit */ \"pdfkit\");\n/* harmony import */ var pdfkit__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(pdfkit__WEBPACK_IMPORTED_MODULE_0__);\n\nasync function generateCertificatePdfBuffer(params) {\n    return await new Promise((resolve)=>{\n        const doc = new (pdfkit__WEBPACK_IMPORTED_MODULE_0___default())({\n            size: \"A4\",\n            layout: \"landscape\",\n            margin: 40\n        });\n        const chunks = [];\n        doc.on(\"data\", (chunk)=>chunks.push(chunk));\n        doc.on(\"end\", ()=>resolve(Buffer.concat(chunks)));\n        const pageWidth = doc.page.width;\n        const pageHeight = doc.page.height;\n        // Background gradient\n        const bg = doc.linearGradient(0, 0, pageWidth, pageHeight);\n        bg.stop(0, \"#0b0f19\").stop(1, \"#1a1033\");\n        doc.save();\n        doc.rect(0, 0, pageWidth, pageHeight).fill(bg);\n        doc.restore();\n        // Border\n        doc.lineWidth(6).strokeColor(\"#8b5cf6\").rect(20, 20, pageWidth - 40, pageHeight - 40).stroke();\n        // Title\n        doc.fillColor(\"#ffffff\").font(\"Helvetica-Bold\").fontSize(36).text(\"Certificate of Participation\", 0, 90, {\n            align: \"center\"\n        });\n        // Subtitle\n        doc.moveDown(0.5);\n        doc.fillColor(\"#cbd5e1\").font(\"Helvetica\").fontSize(16).text(\"This certifies that\", {\n            align: \"center\"\n        });\n        // Participant name\n        doc.moveDown(0.5);\n        doc.fillColor(\"#ffffff\").font(\"Helvetica-Bold\").fontSize(42).text(params.participantName, {\n            align: \"center\"\n        });\n        // Body\n        doc.moveDown(0.5);\n        doc.fillColor(\"#cbd5e1\").font(\"Helvetica\").fontSize(16).text(`has participated in ${params.eventName}${params.role ? ` as ${params.role}` : \"\"}.`, {\n            align: \"center\"\n        });\n        // Signature line and issued date\n        doc.moveDown(3);\n        doc.strokeColor(\"#64748b\").lineWidth(1).moveTo(pageWidth / 2 - 150, pageHeight - 160).lineTo(pageWidth / 2 + 150, pageHeight - 160).stroke();\n        doc.fillColor(\"#cbd5e1\").fontSize(12).text(\"Organizer\", 0, pageHeight - 150, {\n            align: \"center\"\n        });\n        doc.fillColor(\"#94a3b8\").fontSize(12).text(`Issued: ${(params.issuedAt ?? new Date()).toDateString()}`, 0, pageHeight - 110, {\n            align: \"center\"\n        });\n        doc.end();\n    });\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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UUFFL0k3QixJQUFJdUMsR0FBRztJQUNSO0FBQ0QiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9oYWNraHViLWJhY2tlbmQvLi9saWIvcGRmLnRzPzIyMTUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFBERkRvY3VtZW50IGZyb20gXCJwZGZraXRcIjtcclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZW5lcmF0ZUNlcnRpZmljYXRlUGRmQnVmZmVyKHBhcmFtczoge1xyXG5cdHBhcnRpY2lwYW50TmFtZTogc3RyaW5nO1xyXG5cdGV2ZW50TmFtZTogc3RyaW5nO1xyXG5cdHJvbGU/OiBzdHJpbmc7XHJcblx0aXNzdWVkQXQ/OiBEYXRlO1xyXG59KTogUHJvbWlzZTxCdWZmZXI+IHtcclxuXHRyZXR1cm4gYXdhaXQgbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcclxuXHRcdGNvbnN0IGRvYyA9IG5ldyBQREZEb2N1bWVudCh7IHNpemU6IFwiQTRcIiwgbGF5b3V0OiBcImxhbmRzY2FwZVwiLCBtYXJnaW46IDQwIH0pO1xyXG5cdFx0Y29uc3QgY2h1bmtzOiBCdWZmZXJbXSA9IFtdO1xyXG5cdFx0ZG9jLm9uKFwiZGF0YVwiLCAoY2h1bmspID0+IGNodW5rcy5wdXNoKGNodW5rIGFzIEJ1ZmZlcikpO1xyXG5cdFx0ZG9jLm9uKFwiZW5kXCIsICgpID0+IHJlc29sdmUoQnVmZmVyLmNvbmNhdChjaHVua3MpKSk7XHJcblxyXG5cdFx0Y29uc3QgcGFnZVdpZHRoID0gZG9jLnBhZ2Uud2lkdGg7XHJcblx0XHRjb25zdCBwYWdlSGVpZ2h0ID0gZG9jLnBhZ2UuaGVpZ2h0O1xyXG5cclxuXHRcdC8vIEJhY2tncm91bmQgZ3JhZGllbnRcclxuXHRcdGNvbnN0IGJnID0gZG9jLmxpbmVhckdyYWRpZW50KDAsIDAsIHBhZ2VXaWR0aCwgcGFnZUhlaWdodCk7XHJcblx0XHRiZy5zdG9wKDAsIFwiIzBiMGYxOVwiKS5zdG9wKDEsIFwiIzFhMTAzM1wiKTtcclxuXHRcdGRvYy5zYXZlKCk7XHJcblx0XHRkb2MucmVjdCgwLCAwLCBwYWdlV2lkdGgsIHBhZ2VIZWlnaHQpLmZpbGwoYmcgYXMgYW55KTtcclxuXHRcdGRvYy5yZXN0b3JlKCk7XHJcblxyXG5cdFx0Ly8gQm9yZGVyXHJcblx0XHRkb2MubGluZVdpZHRoKDYpLnN0cm9rZUNvbG9yKFwiIzhiNWNmNlwiKS5yZWN0KDIwLCAyMCwgcGFnZVdpZHRoIC0gNDAsIHBhZ2VIZWlnaHQgLSA0MCkuc3Ryb2tlKCk7XHJcblxyXG5cdFx0Ly8gVGl0bGVcclxuXHRcdGRvYy5maWxsQ29sb3IoXCIjZmZmZmZmXCIpLmZvbnQoXCJIZWx2ZXRpY2EtQm9sZFwiKS5mb250U2l6ZSgzNikudGV4dChcIkNlcnRpZmljYXRlIG9mIFBhcnRpY2lwYXRpb25cIiwgMCwgOTAsIHsgYWxpZ246IFwiY2VudGVyXCIgfSk7XHJcblxyXG5cdFx0Ly8gU3VidGl0bGVcclxuXHRcdGRvYy5tb3ZlRG93bigwLjUpO1xyXG5cdFx0ZG9jLmZpbGxDb2xvcihcIiNjYmQ1ZTFcIikuZm9udChcIkhlbHZldGljYVwiKS5mb250U2l6ZSgxNikudGV4dChcIlRoaXMgY2VydGlmaWVzIHRoYXRcIiwgeyBhbGlnbjogXCJjZW50ZXJcIiB9KTtcclxuXHJcblx0XHQvLyBQYXJ0aWNpcGFudCBuYW1lXHJcblx0XHRkb2MubW92ZURvd24oMC41KTtcclxuXHRcdGRvYy5maWxsQ29sb3IoXCIjZmZmZmZmXCIpLmZvbnQoXCJIZWx2ZXRpY2EtQm9sZFwiKS5mb250U2l6ZSg0MikudGV4dChwYXJhbXMucGFydGljaXBhbnROYW1lLCB7IGFsaWduOiBcImNlbnRlclwiIH0pO1xyXG5cclxuXHRcdC8vIEJvZHlcclxuXHRcdGRvYy5tb3ZlRG93bigwLjUpO1xyXG5cdFx0ZG9jLmZpbGxDb2xvcihcIiNjYmQ1ZTFcIikuZm9udChcIkhlbHZldGljYVwiKS5mb250U2l6ZSgxNikudGV4dChgaGFzIHBhcnRpY2lwYXRlZCBpbiAke3BhcmFtcy5ldmVudE5hbWV9JHtwYXJhbXMucm9sZSA/IGAgYXMgJHtwYXJhbXMucm9sZX1gIDogXCJcIn0uYCwgeyBhbGlnbjogXCJjZW50ZXJcIiB9KTtcclxuXHJcblx0XHQvLyBTaWduYXR1cmUgbGluZSBhbmQgaXNzdWVkIGRhdGVcclxuXHRcdGRvYy5tb3ZlRG93bigzKTtcclxuXHRcdGRvYy5zdHJva2VDb2xvcihcIiM2NDc0OGJcIikubGluZVdpZHRoKDEpLm1vdmVUbyhwYWdlV2lkdGggLyAyIC0gMTUwLCBwYWdlSGVpZ2h0IC0gMTYwKS5saW5lVG8ocGFnZVdpZHRoIC8gMiArIDE1MCwgcGFnZUhlaWdodCAtIDE2MCkuc3Ryb2tlKCk7XHJcblx0XHRkb2MuZmlsbENvbG9yKFwiI2NiZDVlMVwiKS5mb250U2l6ZSgxMikudGV4dChcIk9yZ2FuaXplclwiLCAwLCBwYWdlSGVpZ2h0IC0gMTUwLCB7IGFsaWduOiBcImNlbnRlclwiIH0pO1xyXG5cdFx0ZG9jLmZpbGxDb2xvcihcIiM5NGEzYjhcIikuZm9udFNpemUoMTIpLnRleHQoYElzc3VlZDogJHsocGFyYW1zLmlzc3VlZEF0ID8/IG5ldyBEYXRlKCkpLnRvRGF0ZVN0cmluZygpfWAsIDAsIHBhZ2VIZWlnaHQgLSAxMTAsIHsgYWxpZ246IFwiY2VudGVyXCIgfSk7XHJcblxyXG5cdFx0ZG9jLmVuZCgpO1xyXG5cdH0pO1xyXG59XHJcblxyXG5cclxuXHJcbiJdLCJuYW1lcyI6WyJQREZEb2N1bWVudCIsImdlbmVyYXRlQ2VydGlmaWNhdGVQZGZCdWZmZXIiLCJwYXJhbXMiLCJQcm9taXNlIiwicmVzb2x2ZSIsImRvYyIsInNpemUiLCJsYXlvdXQiLCJtYXJnaW4iLCJjaHVua3MiLCJvbiIsImNodW5rIiwicHVzaCIsIkJ1ZmZlciIsImNvbmNhdCIsInBhZ2VXaWR0aCIsInBhZ2UiLCJ3aWR0aCIsInBhZ2VIZWlnaHQiLCJoZWlnaHQiLCJiZyIsImxpbmVhckdyYWRpZW50Iiwic3RvcCIsInNhdmUiLCJyZWN0IiwiZmlsbCIsInJlc3RvcmUiLCJsaW5lV2lkdGgiLCJzdHJva2VDb2xvciIsInN0cm9rZSIsImZpbGxDb2xvciIsImZvbnQiLCJmb250U2l6ZSIsInRleHQiLCJhbGlnbiIsIm1vdmVEb3duIiwicGFydGljaXBhbnROYW1lIiwiZXZlbnROYW1lIiwicm9sZSIsIm1vdmVUbyIsImxpbmVUbyIsImlzc3VlZEF0IiwiRGF0ZSIsInRvRGF0ZVN0cmluZyIsImVuZCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./lib/pdf.ts\n");

/***/ }),

/***/ "(api)/./lib/prisma.ts":
/*!***********************!*\
  !*** ./lib/prisma.ts ***!
  \***********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   prisma: () => (/* binding */ prisma)\n/* harmony export */ });\n/* harmony import */ var _prisma_client__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @prisma/client */ \"@prisma/client\");\n/* harmony import */ var _prisma_client__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_prisma_client__WEBPACK_IMPORTED_MODULE_0__);\n\nconst prisma = global.prismaGlobal || new _prisma_client__WEBPACK_IMPORTED_MODULE_0__.PrismaClient();\nif (true) {\n    global.prismaGlobal = prisma;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9saWIvcHJpc21hLnRzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUE4QztBQU92QyxNQUFNQyxTQUF1QkMsT0FBT0MsWUFBWSxJQUFJLElBQUlILHdEQUFZQSxHQUFHO0FBRTlFLElBQUlJLElBQXFDLEVBQUU7SUFDMUNGLE9BQU9DLFlBQVksR0FBR0Y7QUFDdkIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9oYWNraHViLWJhY2tlbmQvLi9saWIvcHJpc21hLnRzPzk4MjIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUHJpc21hQ2xpZW50IH0gZnJvbSBcIkBwcmlzbWEvY2xpZW50XCI7XG5cbmRlY2xhcmUgZ2xvYmFsIHtcblx0Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXZhclxuXHR2YXIgcHJpc21hR2xvYmFsOiBQcmlzbWFDbGllbnQgfCB1bmRlZmluZWQ7XG59XG5cbmV4cG9ydCBjb25zdCBwcmlzbWE6IFByaXNtYUNsaWVudCA9IGdsb2JhbC5wcmlzbWFHbG9iYWwgfHwgbmV3IFByaXNtYUNsaWVudCgpO1xuXG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSB7XG5cdGdsb2JhbC5wcmlzbWFHbG9iYWwgPSBwcmlzbWE7XG59XG5cblxuIl0sIm5hbWVzIjpbIlByaXNtYUNsaWVudCIsInByaXNtYSIsImdsb2JhbCIsInByaXNtYUdsb2JhbCIsInByb2Nlc3MiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./lib/prisma.ts\n");

/***/ }),

/***/ "(api)/./lib/response.ts":
/*!*************************!*\
  !*** ./lib/response.ts ***!
  \*************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   badRequest: () => (/* binding */ badRequest),\n/* harmony export */   created: () => (/* binding */ created),\n/* harmony export */   forbidden: () => (/* binding */ forbidden),\n/* harmony export */   notFound: () => (/* binding */ notFound),\n/* harmony export */   ok: () => (/* binding */ ok),\n/* harmony export */   serverError: () => (/* binding */ serverError),\n/* harmony export */   unauthorized: () => (/* binding */ unauthorized)\n/* harmony export */ });\nfunction ok(res, data = null, message) {\n    return res.status(200).json({\n        success: true,\n        message,\n        data\n    });\n}\nfunction created(res, data = null, message) {\n    return res.status(201).json({\n        success: true,\n        message,\n        data\n    });\n}\nfunction badRequest(res, message = \"Bad request\", details) {\n    return res.status(400).json({\n        success: false,\n        message,\n        details\n    });\n}\nfunction unauthorized(res, message = \"Unauthorized\") {\n    return res.status(401).json({\n        success: false,\n        message\n    });\n}\nfunction forbidden(res, message = \"Forbidden\") {\n    return res.status(403).json({\n        success: false,\n        message\n    });\n}\nfunction notFound(res, message = \"Not found\") {\n    return res.status(404).json({\n        success: false,\n        message\n    });\n}\nfunction serverError(res, error, message = \"Internal server error\") {\n    // eslint-disable-next-line no-console\n    console.error(message, error);\n    return res.status(500).json({\n        success: false,\n        message\n    });\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9saWIvcmVzcG9uc2UudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUlPLFNBQVNBLEdBQUdDLEdBQW9CLEVBQUVDLE9BQWlCLElBQUksRUFBRUMsT0FBZ0I7SUFDL0UsT0FBT0YsSUFBSUcsTUFBTSxDQUFDLEtBQUtDLElBQUksQ0FBQztRQUFFQyxTQUFTO1FBQU1IO1FBQVNEO0lBQUs7QUFDNUQ7QUFFTyxTQUFTSyxRQUFRTixHQUFvQixFQUFFQyxPQUFpQixJQUFJLEVBQUVDLE9BQWdCO0lBQ3BGLE9BQU9GLElBQUlHLE1BQU0sQ0FBQyxLQUFLQyxJQUFJLENBQUM7UUFBRUMsU0FBUztRQUFNSDtRQUFTRDtJQUFLO0FBQzVEO0FBRU8sU0FBU00sV0FBV1AsR0FBb0IsRUFBRUUsVUFBVSxhQUFhLEVBQUVNLE9BQWtCO0lBQzNGLE9BQU9SLElBQUlHLE1BQU0sQ0FBQyxLQUFLQyxJQUFJLENBQUM7UUFBRUMsU0FBUztRQUFPSDtRQUFTTTtJQUFRO0FBQ2hFO0FBRU8sU0FBU0MsYUFBYVQsR0FBb0IsRUFBRUUsVUFBVSxjQUFjO0lBQzFFLE9BQU9GLElBQUlHLE1BQU0sQ0FBQyxLQUFLQyxJQUFJLENBQUM7UUFBRUMsU0FBUztRQUFPSDtJQUFRO0FBQ3ZEO0FBRU8sU0FBU1EsVUFBVVYsR0FBb0IsRUFBRUUsVUFBVSxXQUFXO0lBQ3BFLE9BQU9GLElBQUlHLE1BQU0sQ0FBQyxLQUFLQyxJQUFJLENBQUM7UUFBRUMsU0FBUztRQUFPSDtJQUFRO0FBQ3ZEO0FBRU8sU0FBU1MsU0FBU1gsR0FBb0IsRUFBRUUsVUFBVSxXQUFXO0lBQ25FLE9BQU9GLElBQUlHLE1BQU0sQ0FBQyxLQUFLQyxJQUFJLENBQUM7UUFBRUMsU0FBUztRQUFPSDtJQUFRO0FBQ3ZEO0FBRU8sU0FBU1UsWUFBWVosR0FBb0IsRUFBRWEsS0FBYyxFQUFFWCxVQUFVLHVCQUF1QjtJQUNsRyxzQ0FBc0M7SUFDdENZLFFBQVFELEtBQUssQ0FBQ1gsU0FBU1c7SUFDdkIsT0FBT2IsSUFBSUcsTUFBTSxDQUFDLEtBQUtDLElBQUksQ0FBQztRQUFFQyxTQUFTO1FBQU9IO0lBQVE7QUFDdkQiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9oYWNraHViLWJhY2tlbmQvLi9saWIvcmVzcG9uc2UudHM/NWVmZSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBOZXh0QXBpUmVzcG9uc2UgfSBmcm9tIFwibmV4dFwiO1xyXG5cclxudHlwZSBKc29uQm9keSA9IFJlY29yZDxzdHJpbmcsIHVua25vd24+IHwgQXJyYXk8dW5rbm93bj4gfCBudWxsO1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIG9rKHJlczogTmV4dEFwaVJlc3BvbnNlLCBkYXRhOiBKc29uQm9keSA9IG51bGwsIG1lc3NhZ2U/OiBzdHJpbmcpIHtcclxuXHRyZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24oeyBzdWNjZXNzOiB0cnVlLCBtZXNzYWdlLCBkYXRhIH0pO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlZChyZXM6IE5leHRBcGlSZXNwb25zZSwgZGF0YTogSnNvbkJvZHkgPSBudWxsLCBtZXNzYWdlPzogc3RyaW5nKSB7XHJcblx0cmV0dXJuIHJlcy5zdGF0dXMoMjAxKS5qc29uKHsgc3VjY2VzczogdHJ1ZSwgbWVzc2FnZSwgZGF0YSB9KTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGJhZFJlcXVlc3QocmVzOiBOZXh0QXBpUmVzcG9uc2UsIG1lc3NhZ2UgPSBcIkJhZCByZXF1ZXN0XCIsIGRldGFpbHM/OiBKc29uQm9keSkge1xyXG5cdHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7IHN1Y2Nlc3M6IGZhbHNlLCBtZXNzYWdlLCBkZXRhaWxzIH0pO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gdW5hdXRob3JpemVkKHJlczogTmV4dEFwaVJlc3BvbnNlLCBtZXNzYWdlID0gXCJVbmF1dGhvcml6ZWRcIikge1xyXG5cdHJldHVybiByZXMuc3RhdHVzKDQwMSkuanNvbih7IHN1Y2Nlc3M6IGZhbHNlLCBtZXNzYWdlIH0pO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZm9yYmlkZGVuKHJlczogTmV4dEFwaVJlc3BvbnNlLCBtZXNzYWdlID0gXCJGb3JiaWRkZW5cIikge1xyXG5cdHJldHVybiByZXMuc3RhdHVzKDQwMykuanNvbih7IHN1Y2Nlc3M6IGZhbHNlLCBtZXNzYWdlIH0pO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gbm90Rm91bmQocmVzOiBOZXh0QXBpUmVzcG9uc2UsIG1lc3NhZ2UgPSBcIk5vdCBmb3VuZFwiKSB7XHJcblx0cmV0dXJuIHJlcy5zdGF0dXMoNDA0KS5qc29uKHsgc3VjY2VzczogZmFsc2UsIG1lc3NhZ2UgfSk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBzZXJ2ZXJFcnJvcihyZXM6IE5leHRBcGlSZXNwb25zZSwgZXJyb3I6IHVua25vd24sIG1lc3NhZ2UgPSBcIkludGVybmFsIHNlcnZlciBlcnJvclwiKSB7XHJcblx0Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnNvbGVcclxuXHRjb25zb2xlLmVycm9yKG1lc3NhZ2UsIGVycm9yKTtcclxuXHRyZXR1cm4gcmVzLnN0YXR1cyg1MDApLmpzb24oeyBzdWNjZXNzOiBmYWxzZSwgbWVzc2FnZSB9KTtcclxufVxyXG5cclxuXHJcblxyXG4iXSwibmFtZXMiOlsib2siLCJyZXMiLCJkYXRhIiwibWVzc2FnZSIsInN0YXR1cyIsImpzb24iLCJzdWNjZXNzIiwiY3JlYXRlZCIsImJhZFJlcXVlc3QiLCJkZXRhaWxzIiwidW5hdXRob3JpemVkIiwiZm9yYmlkZGVuIiwibm90Rm91bmQiLCJzZXJ2ZXJFcnJvciIsImVycm9yIiwiY29uc29sZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./lib/response.ts\n");

/***/ }),

/***/ "(api)/./models/Certificate.ts":
/*!*******************************!*\
  !*** ./models/Certificate.ts ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Certificate: () => (/* binding */ Certificate)\n/* harmony export */ });\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongoose */ \"mongoose\");\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mongoose__WEBPACK_IMPORTED_MODULE_0__);\n\nconst CertificateSchema = new mongoose__WEBPACK_IMPORTED_MODULE_0__.Schema({\n    eventId: {\n        type: String,\n        required: true\n    },\n    userId: {\n        type: String,\n        required: true\n    },\n    role: {\n        type: String,\n        required: true\n    },\n    url: {\n        type: String,\n        required: true\n    },\n    blobName: {\n        type: String,\n        required: true\n    },\n    issuedAt: {\n        type: Date,\n        default: ()=>new Date()\n    },\n    metadata: {\n        type: mongoose__WEBPACK_IMPORTED_MODULE_0__.Schema.Types.Mixed\n    }\n}, {\n    timestamps: true\n});\nconst Certificate = mongoose__WEBPACK_IMPORTED_MODULE_0__.models.Certificate || (0,mongoose__WEBPACK_IMPORTED_MODULE_0__.model)(\"Certificate\", CertificateSchema);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9tb2RlbHMvQ2VydGlmaWNhdGUudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQTJEO0FBRTNELE1BQU1HLG9CQUFvQixJQUFJSCw0Q0FBTUEsQ0FDbkM7SUFDQ0ksU0FBUztRQUFFQyxNQUFNQztRQUFRQyxVQUFVO0lBQUs7SUFDeENDLFFBQVE7UUFBRUgsTUFBTUM7UUFBUUMsVUFBVTtJQUFLO0lBQ3ZDRSxNQUFNO1FBQUVKLE1BQU1DO1FBQVFDLFVBQVU7SUFBSztJQUNyQ0csS0FBSztRQUFFTCxNQUFNQztRQUFRQyxVQUFVO0lBQUs7SUFDcENJLFVBQVU7UUFBRU4sTUFBTUM7UUFBUUMsVUFBVTtJQUFLO0lBQ3pDSyxVQUFVO1FBQUVQLE1BQU1RO1FBQU1DLFNBQVMsSUFBTSxJQUFJRDtJQUFPO0lBQ2xERSxVQUFVO1FBQUVWLE1BQU1MLDRDQUFNQSxDQUFDZ0IsS0FBSyxDQUFDQyxLQUFLO0lBQUM7QUFDdEMsR0FDQTtJQUFFQyxZQUFZO0FBQUs7QUFLYixNQUFNQyxjQUFjakIsNENBQU1BLENBQUNpQixXQUFXLElBQUlsQiwrQ0FBS0EsQ0FBQyxlQUFlRSxtQkFBbUIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9oYWNraHViLWJhY2tlbmQvLi9tb2RlbHMvQ2VydGlmaWNhdGUudHM/ZWQ0MyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbW9uZ29vc2UsIHsgU2NoZW1hLCBtb2RlbCwgbW9kZWxzIH0gZnJvbSBcIm1vbmdvb3NlXCI7XHJcblxyXG5jb25zdCBDZXJ0aWZpY2F0ZVNjaGVtYSA9IG5ldyBTY2hlbWEoXHJcblx0e1xyXG5cdFx0ZXZlbnRJZDogeyB0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiB0cnVlIH0sXHJcblx0XHR1c2VySWQ6IHsgdHlwZTogU3RyaW5nLCByZXF1aXJlZDogdHJ1ZSB9LFxyXG5cdFx0cm9sZTogeyB0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiB0cnVlIH0sXHJcblx0XHR1cmw6IHsgdHlwZTogU3RyaW5nLCByZXF1aXJlZDogdHJ1ZSB9LFxyXG5cdFx0YmxvYk5hbWU6IHsgdHlwZTogU3RyaW5nLCByZXF1aXJlZDogdHJ1ZSB9LFxyXG5cdFx0aXNzdWVkQXQ6IHsgdHlwZTogRGF0ZSwgZGVmYXVsdDogKCkgPT4gbmV3IERhdGUoKSB9LFxyXG5cdFx0bWV0YWRhdGE6IHsgdHlwZTogU2NoZW1hLlR5cGVzLk1peGVkIH0sXHJcblx0fSxcclxuXHR7IHRpbWVzdGFtcHM6IHRydWUgfVxyXG4pO1xyXG5cclxuZXhwb3J0IHR5cGUgQ2VydGlmaWNhdGVEb2N1bWVudCA9IG1vbmdvb3NlLkluZmVyU2NoZW1hVHlwZTx0eXBlb2YgQ2VydGlmaWNhdGVTY2hlbWE+ICYgeyBfaWQ6IG1vbmdvb3NlLlR5cGVzLk9iamVjdElkIH07XHJcblxyXG5leHBvcnQgY29uc3QgQ2VydGlmaWNhdGUgPSBtb2RlbHMuQ2VydGlmaWNhdGUgfHwgbW9kZWwoXCJDZXJ0aWZpY2F0ZVwiLCBDZXJ0aWZpY2F0ZVNjaGVtYSk7XHJcblxyXG5cclxuIl0sIm5hbWVzIjpbIlNjaGVtYSIsIm1vZGVsIiwibW9kZWxzIiwiQ2VydGlmaWNhdGVTY2hlbWEiLCJldmVudElkIiwidHlwZSIsIlN0cmluZyIsInJlcXVpcmVkIiwidXNlcklkIiwicm9sZSIsInVybCIsImJsb2JOYW1lIiwiaXNzdWVkQXQiLCJEYXRlIiwiZGVmYXVsdCIsIm1ldGFkYXRhIiwiVHlwZXMiLCJNaXhlZCIsInRpbWVzdGFtcHMiLCJDZXJ0aWZpY2F0ZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./models/Certificate.ts\n");

/***/ }),

/***/ "(api)/./pages/api/_cors.ts":
/*!****************************!*\
  !*** ./pages/api/_cors.ts ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   applyCors: () => (/* binding */ applyCors)\n/* harmony export */ });\nconst { FRONTEND_ORIGIN = \"http://localhost:5173\", FRONTEND_ORIGINS, NODE_ENV } = process.env;\nfunction applyCors(req, res) {\n    const allowedOrigins = (FRONTEND_ORIGINS || FRONTEND_ORIGIN).split(\",\").map((o)=>o.trim()).filter(Boolean);\n    const requestOrigin = req.headers.origin || \"\";\n    // For browsers, echo back the caller's Origin if it is allowed. In dev, be permissive.\n    const isAllowed = !requestOrigin ? false : allowedOrigins.includes(requestOrigin) || NODE_ENV !== \"production\";\n    if (isAllowed && requestOrigin) {\n        res.setHeader(\"Access-Control-Allow-Origin\", requestOrigin);\n    }\n    res.setHeader(\"Vary\", \"Origin\");\n    res.setHeader(\"Access-Control-Allow-Credentials\", \"true\");\n    res.setHeader(\"Access-Control-Allow-Headers\", \"Content-Type, Authorization\");\n    res.setHeader(\"Access-Control-Allow-Methods\", \"GET,POST,PUT,DELETE,OPTIONS\");\n    res.setHeader(\"Access-Control-Max-Age\", \"600\");\n    if (req.method === \"OPTIONS\") {\n        res.status(204).end();\n        return true;\n    }\n    return false;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9wYWdlcy9hcGkvX2NvcnMudHMiLCJtYXBwaW5ncyI6Ijs7OztBQUVBLE1BQU0sRUFBRUEsa0JBQWtCLHVCQUF1QixFQUFFQyxnQkFBZ0IsRUFBRUMsUUFBUSxFQUFFLEdBQUdDLFFBQVFDLEdBQUc7QUFFdEYsU0FBU0MsVUFBVUMsR0FBbUIsRUFBRUMsR0FBb0I7SUFDakUsTUFBTUMsaUJBQWlCLENBQUNQLG9CQUFvQkQsZUFBYyxFQUN2RFMsS0FBSyxDQUFDLEtBQ05DLEdBQUcsQ0FBQyxDQUFDQyxJQUFNQSxFQUFFQyxJQUFJLElBQ2pCQyxNQUFNLENBQUNDO0lBQ1YsTUFBTUMsZ0JBQWdCLElBQUtDLE9BQU8sQ0FBQ0MsTUFBTSxJQUFlO0lBRXhELHVGQUF1RjtJQUN2RixNQUFNQyxZQUFZLENBQUNILGdCQUNmLFFBQ0FQLGVBQWVXLFFBQVEsQ0FBQ0osa0JBQWtCYixhQUFhO0lBRTNELElBQUlnQixhQUFhSCxlQUFlO1FBQzlCUixJQUFJYSxTQUFTLENBQUMsK0JBQStCTDtJQUMvQztJQUVBUixJQUFJYSxTQUFTLENBQUMsUUFBUTtJQUN0QmIsSUFBSWEsU0FBUyxDQUFDLG9DQUFvQztJQUNsRGIsSUFBSWEsU0FBUyxDQUFDLGdDQUFnQztJQUM5Q2IsSUFBSWEsU0FBUyxDQUFDLGdDQUFnQztJQUM5Q2IsSUFBSWEsU0FBUyxDQUFDLDBCQUEwQjtJQUN4QyxJQUFJZCxJQUFJZSxNQUFNLEtBQUssV0FBVztRQUM1QmQsSUFBSWUsTUFBTSxDQUFDLEtBQUtDLEdBQUc7UUFDbkIsT0FBTztJQUNUO0lBQ0EsT0FBTztBQUNUIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaGFja2h1Yi1iYWNrZW5kLy4vcGFnZXMvYXBpL19jb3JzLnRzP2FmODEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTmV4dEFwaVJlcXVlc3QsIE5leHRBcGlSZXNwb25zZSB9IGZyb20gXCJuZXh0XCI7XG5cbmNvbnN0IHsgRlJPTlRFTkRfT1JJR0lOID0gXCJodHRwOi8vbG9jYWxob3N0OjUxNzNcIiwgRlJPTlRFTkRfT1JJR0lOUywgTk9ERV9FTlYgfSA9IHByb2Nlc3MuZW52IGFzIFJlY29yZDxzdHJpbmcsIHN0cmluZyB8IHVuZGVmaW5lZD47XG5cbmV4cG9ydCBmdW5jdGlvbiBhcHBseUNvcnMocmVxOiBOZXh0QXBpUmVxdWVzdCwgcmVzOiBOZXh0QXBpUmVzcG9uc2UpIHtcbiAgY29uc3QgYWxsb3dlZE9yaWdpbnMgPSAoRlJPTlRFTkRfT1JJR0lOUyB8fCBGUk9OVEVORF9PUklHSU4pXG4gICAgLnNwbGl0KFwiLFwiKVxuICAgIC5tYXAoKG8pID0+IG8udHJpbSgpKVxuICAgIC5maWx0ZXIoQm9vbGVhbik7XG4gIGNvbnN0IHJlcXVlc3RPcmlnaW4gPSAocmVxLmhlYWRlcnMub3JpZ2luIGFzIHN0cmluZykgfHwgXCJcIjtcblxuICAvLyBGb3IgYnJvd3NlcnMsIGVjaG8gYmFjayB0aGUgY2FsbGVyJ3MgT3JpZ2luIGlmIGl0IGlzIGFsbG93ZWQuIEluIGRldiwgYmUgcGVybWlzc2l2ZS5cbiAgY29uc3QgaXNBbGxvd2VkID0gIXJlcXVlc3RPcmlnaW5cbiAgICA/IGZhbHNlXG4gICAgOiBhbGxvd2VkT3JpZ2lucy5pbmNsdWRlcyhyZXF1ZXN0T3JpZ2luKSB8fCBOT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCI7XG5cbiAgaWYgKGlzQWxsb3dlZCAmJiByZXF1ZXN0T3JpZ2luKSB7XG4gICAgcmVzLnNldEhlYWRlcihcIkFjY2Vzcy1Db250cm9sLUFsbG93LU9yaWdpblwiLCByZXF1ZXN0T3JpZ2luKTtcbiAgfVxuXG4gIHJlcy5zZXRIZWFkZXIoXCJWYXJ5XCIsIFwiT3JpZ2luXCIpO1xuICByZXMuc2V0SGVhZGVyKFwiQWNjZXNzLUNvbnRyb2wtQWxsb3ctQ3JlZGVudGlhbHNcIiwgXCJ0cnVlXCIpO1xuICByZXMuc2V0SGVhZGVyKFwiQWNjZXNzLUNvbnRyb2wtQWxsb3ctSGVhZGVyc1wiLCBcIkNvbnRlbnQtVHlwZSwgQXV0aG9yaXphdGlvblwiKTtcbiAgcmVzLnNldEhlYWRlcihcIkFjY2Vzcy1Db250cm9sLUFsbG93LU1ldGhvZHNcIiwgXCJHRVQsUE9TVCxQVVQsREVMRVRFLE9QVElPTlNcIik7XG4gIHJlcy5zZXRIZWFkZXIoXCJBY2Nlc3MtQ29udHJvbC1NYXgtQWdlXCIsIFwiNjAwXCIpO1xuICBpZiAocmVxLm1ldGhvZCA9PT0gXCJPUFRJT05TXCIpIHtcbiAgICByZXMuc3RhdHVzKDIwNCkuZW5kKCk7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufVxuXG5cbiJdLCJuYW1lcyI6WyJGUk9OVEVORF9PUklHSU4iLCJGUk9OVEVORF9PUklHSU5TIiwiTk9ERV9FTlYiLCJwcm9jZXNzIiwiZW52IiwiYXBwbHlDb3JzIiwicmVxIiwicmVzIiwiYWxsb3dlZE9yaWdpbnMiLCJzcGxpdCIsIm1hcCIsIm8iLCJ0cmltIiwiZmlsdGVyIiwiQm9vbGVhbiIsInJlcXVlc3RPcmlnaW4iLCJoZWFkZXJzIiwib3JpZ2luIiwiaXNBbGxvd2VkIiwiaW5jbHVkZXMiLCJzZXRIZWFkZXIiLCJtZXRob2QiLCJzdGF0dXMiLCJlbmQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./pages/api/_cors.ts\n");

/***/ }),

/***/ "(api)/./pages/api/certificates/generate.ts":
/*!********************************************!*\
  !*** ./pages/api/certificates/generate.ts ***!
  \********************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ handler)\n/* harmony export */ });\n/* harmony import */ var _lib_mongoose__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../lib/mongoose */ \"(api)/./lib/mongoose.ts\");\n/* harmony import */ var _models_Certificate__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../models/Certificate */ \"(api)/./models/Certificate.ts\");\n/* harmony import */ var _lib_response__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../lib/response */ \"(api)/./lib/response.ts\");\n/* harmony import */ var next_auth__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! next-auth */ \"next-auth\");\n/* harmony import */ var next_auth__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(next_auth__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _lib_auth__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../lib/auth */ \"(api)/./lib/auth.ts\");\n/* harmony import */ var _lib_pdf__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../lib/pdf */ \"(api)/./lib/pdf.ts\");\n/* harmony import */ var _lib_blob__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../lib/blob */ \"(api)/./lib/blob.ts\");\n/* harmony import */ var _cors__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../_cors */ \"(api)/./pages/api/_cors.ts\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_lib_blob__WEBPACK_IMPORTED_MODULE_6__]);\n_lib_blob__WEBPACK_IMPORTED_MODULE_6__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n\n\n\n\n\n\nasync function handler(req, res) {\n    try {\n        if ((0,_cors__WEBPACK_IMPORTED_MODULE_7__.applyCors)(req, res)) return;\n        const session = await (0,next_auth__WEBPACK_IMPORTED_MODULE_3__.getServerSession)(req, res, _lib_auth__WEBPACK_IMPORTED_MODULE_4__.authOptions);\n        let role = session ? session.user?.role : null;\n        if (!role) {\n            const jwtUser = await (0,_lib_auth__WEBPACK_IMPORTED_MODULE_4__.getApiUser)(req);\n            role = jwtUser?.role ?? null;\n        }\n        if (!role) return (0,_lib_response__WEBPACK_IMPORTED_MODULE_2__.unauthorized)(res);\n        if (role !== \"ORGANIZER\") return (0,_lib_response__WEBPACK_IMPORTED_MODULE_2__.forbidden)(res);\n        if (req.method !== \"POST\") return (0,_lib_response__WEBPACK_IMPORTED_MODULE_2__.badRequest)(res, \"Method not allowed\");\n        await (0,_lib_mongoose__WEBPACK_IMPORTED_MODULE_0__.connectMongo)();\n        const { eventId, userId, participantName, role: certRole } = req.body;\n        if (!eventId || !userId || !participantName || !certRole) return (0,_lib_response__WEBPACK_IMPORTED_MODULE_2__.badRequest)(res, \"Missing fields\");\n        const pdf = await (0,_lib_pdf__WEBPACK_IMPORTED_MODULE_5__.generateCertificatePdfBuffer)({\n            participantName,\n            eventName: eventId,\n            role: certRole\n        });\n        const { url, blobName } = await (0,_lib_blob__WEBPACK_IMPORTED_MODULE_6__.uploadBufferToBlob)(pdf, {\n            contentType: \"application/pdf\",\n            prefix: `certificates/${eventId}`\n        });\n        const cert = await _models_Certificate__WEBPACK_IMPORTED_MODULE_1__.Certificate.create({\n            eventId,\n            userId,\n            role: certRole,\n            url,\n            blobName\n        });\n        return (0,_lib_response__WEBPACK_IMPORTED_MODULE_2__.created)(res, cert);\n    } catch (error) {\n        return (0,_lib_response__WEBPACK_IMPORTED_MODULE_2__.serverError)(res, error);\n    }\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9wYWdlcy9hcGkvY2VydGlmaWNhdGVzL2dlbmVyYXRlLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFDcUQ7QUFDSztBQUM0QztBQUN6RDtBQUNlO0FBQ0k7QUFDVDtBQUNsQjtBQUV0QixlQUFlYSxRQUFRQyxHQUFtQixFQUFFQyxHQUFvQjtJQUM5RSxJQUFJO1FBQ0gsSUFBSUgsZ0RBQVNBLENBQUNFLEtBQUtDLE1BQU07UUFDekIsTUFBTUMsVUFBVSxNQUFNVCwyREFBZ0JBLENBQUNPLEtBQUtDLEtBQUtQLGtEQUFXQTtRQUM1RCxJQUFJUyxPQUFzQkQsVUFBWUEsUUFBUUUsSUFBSSxFQUFVRCxPQUFrQjtRQUM5RSxJQUFJLENBQUNBLE1BQU07WUFDVixNQUFNRSxVQUFVLE1BQU1WLHFEQUFVQSxDQUFDSztZQUNqQ0csT0FBTyxTQUFVQSxRQUFnQjtRQUNsQztRQUNBLElBQUksQ0FBQ0EsTUFBTSxPQUFPYiwyREFBWUEsQ0FBQ1c7UUFDL0IsSUFBSUUsU0FBUyxhQUFhLE9BQU9aLHdEQUFTQSxDQUFDVTtRQUUzQyxJQUFJRCxJQUFJTSxNQUFNLEtBQUssUUFBUSxPQUFPbEIseURBQVVBLENBQUNhLEtBQUs7UUFDbEQsTUFBTWYsMkRBQVlBO1FBRWxCLE1BQU0sRUFBRXFCLE9BQU8sRUFBRUMsTUFBTSxFQUFFQyxlQUFlLEVBQUVOLE1BQU1PLFFBQVEsRUFBRSxHQUFHVixJQUFJVyxJQUFJO1FBQ3JFLElBQUksQ0FBQ0osV0FBVyxDQUFDQyxVQUFVLENBQUNDLG1CQUFtQixDQUFDQyxVQUFVLE9BQU90Qix5REFBVUEsQ0FBQ2EsS0FBSztRQUVqRixNQUFNVyxNQUFNLE1BQU1oQixzRUFBNEJBLENBQUM7WUFBRWE7WUFBaUJJLFdBQVdOO1lBQVNKLE1BQU1PO1FBQVM7UUFDckcsTUFBTSxFQUFFSSxHQUFHLEVBQUVDLFFBQVEsRUFBRSxHQUFHLE1BQU1sQiw2REFBa0JBLENBQUNlLEtBQUs7WUFBRUksYUFBYTtZQUFtQkMsUUFBUSxDQUFDLGFBQWEsRUFBRVYsUUFBUSxDQUFDO1FBQUM7UUFDNUgsTUFBTVcsT0FBTyxNQUFNLDZEQUFxQkMsTUFBTSxDQUFDO1lBQUVaO1lBQVNDO1lBQVFMLE1BQU1PO1lBQVVJO1lBQUtDO1FBQVM7UUFDaEcsT0FBT3ZCLHNEQUFPQSxDQUFDUyxLQUFLaUI7SUFDckIsRUFBRSxPQUFPRSxPQUFPO1FBQ2YsT0FBTy9CLDBEQUFXQSxDQUFDWSxLQUFLbUI7SUFDekI7QUFDRCIsInNvdXJjZXMiOlsid2VicGFjazovL2hhY2todWItYmFja2VuZC8uL3BhZ2VzL2FwaS9jZXJ0aWZpY2F0ZXMvZ2VuZXJhdGUudHM/MzBiNCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBOZXh0QXBpUmVxdWVzdCwgTmV4dEFwaVJlc3BvbnNlIH0gZnJvbSBcIm5leHRcIjtcbmltcG9ydCB7IGNvbm5lY3RNb25nbyB9IGZyb20gXCIuLi8uLi8uLi9saWIvbW9uZ29vc2VcIjtcbmltcG9ydCB7IENlcnRpZmljYXRlIH0gZnJvbSBcIi4uLy4uLy4uL21vZGVscy9DZXJ0aWZpY2F0ZVwiO1xuaW1wb3J0IHsgb2ssIGJhZFJlcXVlc3QsIHNlcnZlckVycm9yLCB1bmF1dGhvcml6ZWQsIGZvcmJpZGRlbiwgY3JlYXRlZCB9IGZyb20gXCIuLi8uLi8uLi9saWIvcmVzcG9uc2VcIjtcbmltcG9ydCB7IGdldFNlcnZlclNlc3Npb24gfSBmcm9tIFwibmV4dC1hdXRoXCI7XG5pbXBvcnQgeyBhdXRoT3B0aW9ucywgZ2V0QXBpVXNlciB9IGZyb20gXCIuLi8uLi8uLi9saWIvYXV0aFwiO1xuaW1wb3J0IHsgZ2VuZXJhdGVDZXJ0aWZpY2F0ZVBkZkJ1ZmZlciB9IGZyb20gXCIuLi8uLi8uLi9saWIvcGRmXCI7XG5pbXBvcnQgeyB1cGxvYWRCdWZmZXJUb0Jsb2IgfSBmcm9tIFwiLi4vLi4vLi4vbGliL2Jsb2JcIjtcbmltcG9ydCB7IGFwcGx5Q29ycyB9IGZyb20gXCIuLi9fY29yc1wiO1xuXG5leHBvcnQgZGVmYXVsdCBhc3luYyBmdW5jdGlvbiBoYW5kbGVyKHJlcTogTmV4dEFwaVJlcXVlc3QsIHJlczogTmV4dEFwaVJlc3BvbnNlKSB7XG5cdHRyeSB7XG5cdFx0aWYgKGFwcGx5Q29ycyhyZXEsIHJlcykpIHJldHVybjtcblx0XHRjb25zdCBzZXNzaW9uID0gYXdhaXQgZ2V0U2VydmVyU2Vzc2lvbihyZXEsIHJlcywgYXV0aE9wdGlvbnMpO1xuXHRcdGxldCByb2xlOiBzdHJpbmcgfCBudWxsID0gc2Vzc2lvbiA/ICgoc2Vzc2lvbi51c2VyIGFzIGFueSk/LnJvbGUgYXMgc3RyaW5nKSA6IG51bGw7XG5cdFx0aWYgKCFyb2xlKSB7XG5cdFx0XHRjb25zdCBqd3RVc2VyID0gYXdhaXQgZ2V0QXBpVXNlcihyZXEpO1xuXHRcdFx0cm9sZSA9IChqd3RVc2VyPy5yb2xlIGFzIGFueSkgPz8gbnVsbDtcblx0XHR9XG5cdFx0aWYgKCFyb2xlKSByZXR1cm4gdW5hdXRob3JpemVkKHJlcyk7XG5cdFx0aWYgKHJvbGUgIT09IFwiT1JHQU5JWkVSXCIpIHJldHVybiBmb3JiaWRkZW4ocmVzKTtcblxuXHRcdGlmIChyZXEubWV0aG9kICE9PSBcIlBPU1RcIikgcmV0dXJuIGJhZFJlcXVlc3QocmVzLCBcIk1ldGhvZCBub3QgYWxsb3dlZFwiKTtcblx0XHRhd2FpdCBjb25uZWN0TW9uZ28oKTtcblxuXHRcdGNvbnN0IHsgZXZlbnRJZCwgdXNlcklkLCBwYXJ0aWNpcGFudE5hbWUsIHJvbGU6IGNlcnRSb2xlIH0gPSByZXEuYm9keSBhcyBhbnk7XG5cdFx0aWYgKCFldmVudElkIHx8ICF1c2VySWQgfHwgIXBhcnRpY2lwYW50TmFtZSB8fCAhY2VydFJvbGUpIHJldHVybiBiYWRSZXF1ZXN0KHJlcywgXCJNaXNzaW5nIGZpZWxkc1wiKTtcblxuXHRcdGNvbnN0IHBkZiA9IGF3YWl0IGdlbmVyYXRlQ2VydGlmaWNhdGVQZGZCdWZmZXIoeyBwYXJ0aWNpcGFudE5hbWUsIGV2ZW50TmFtZTogZXZlbnRJZCwgcm9sZTogY2VydFJvbGUgfSk7XG5cdFx0Y29uc3QgeyB1cmwsIGJsb2JOYW1lIH0gPSBhd2FpdCB1cGxvYWRCdWZmZXJUb0Jsb2IocGRmLCB7IGNvbnRlbnRUeXBlOiBcImFwcGxpY2F0aW9uL3BkZlwiLCBwcmVmaXg6IGBjZXJ0aWZpY2F0ZXMvJHtldmVudElkfWAgfSk7XG5cdFx0Y29uc3QgY2VydCA9IGF3YWl0IChDZXJ0aWZpY2F0ZSBhcyBhbnkpLmNyZWF0ZSh7IGV2ZW50SWQsIHVzZXJJZCwgcm9sZTogY2VydFJvbGUsIHVybCwgYmxvYk5hbWUgfSBhcyBhbnkpO1xuXHRcdHJldHVybiBjcmVhdGVkKHJlcywgY2VydCk7XG5cdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0cmV0dXJuIHNlcnZlckVycm9yKHJlcywgZXJyb3IpO1xuXHR9XG59XG5cblxuIl0sIm5hbWVzIjpbImNvbm5lY3RNb25nbyIsIkNlcnRpZmljYXRlIiwiYmFkUmVxdWVzdCIsInNlcnZlckVycm9yIiwidW5hdXRob3JpemVkIiwiZm9yYmlkZGVuIiwiY3JlYXRlZCIsImdldFNlcnZlclNlc3Npb24iLCJhdXRoT3B0aW9ucyIsImdldEFwaVVzZXIiLCJnZW5lcmF0ZUNlcnRpZmljYXRlUGRmQnVmZmVyIiwidXBsb2FkQnVmZmVyVG9CbG9iIiwiYXBwbHlDb3JzIiwiaGFuZGxlciIsInJlcSIsInJlcyIsInNlc3Npb24iLCJyb2xlIiwidXNlciIsImp3dFVzZXIiLCJtZXRob2QiLCJldmVudElkIiwidXNlcklkIiwicGFydGljaXBhbnROYW1lIiwiY2VydFJvbGUiLCJib2R5IiwicGRmIiwiZXZlbnROYW1lIiwidXJsIiwiYmxvYk5hbWUiLCJjb250ZW50VHlwZSIsInByZWZpeCIsImNlcnQiLCJjcmVhdGUiLCJlcnJvciJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./pages/api/certificates/generate.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fcertificates%2Fgenerate&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Ccertificates%5Cgenerate.ts&middlewareConfigBase64=e30%3D!")));
module.exports = __webpack_exports__;

})();